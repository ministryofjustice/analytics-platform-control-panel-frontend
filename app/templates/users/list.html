{% extends "layouts/one-column.html" %}

{% set page_title = "Users" %}

{% block main_column %}

<p>{{ users.length }} user{%- if users.length != 1 -%}s{%- endif -%}</p>

<table class="list">
  <thead>
    <tr>
      <th>Name</th>
      <th>Username</th>
      <th>Email</th>
      {% if isSuperuser %}
        <th><span class="visuallyhidden">Actions</span></th>
      {% endif %}
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
      <tr>
        <td><a class="{% if current_user.auth0_id == user.auth0_id %}highlight-current{% endif %}"" href="{{ url_for('users.details', {id: user.auth0_id}) }}">{{ user.name | default(user.username, true) }}</a></td>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        {% if isSuperuser %}
          <td class="align-right">
            <a class="button button-secondary" href="{{ url_for('users.edit', {id: user.auth0_id}) }}">Edit</a>
            <a class="button button-secondary js-confirm" href="#">Delete</a>
          </td>
        {% endif %}
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
